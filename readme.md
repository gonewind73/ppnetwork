# PPNetwork

PPNetwork 是无中心节点的虚拟局网。任何节点，无论位于Internet或者防火墙后，只需要安装该软件，运行后，就可以建立和其他节点之间的虚拟局域网。如办公室和家庭电脑直接组建虚拟局网，或者亲友之间建立虚拟局网，在局网上进行文件共享等。

## 简要原理

节点运行后，会尝试连接网络上其他节点，通过网络各节点寻找相同的VLAN号和Secret的节点，并启动虚拟网卡，虚拟局域网就可以使用了。


P2P，无中心节点。只要知道一个net_id 和 密钥 就可以加入网络。
公共节点是志愿者，不加入网络，但提供转发。

## 安全性考虑
1.  任何节点接入都需要验证，网络号+密钥 。 验证方法为： hmac(self.node_id,net_id,net_secret,sequence)[:4]
2.  控制信令都需要验证。
3.  数据连接建立基于控制信令。后续交互由应用决定。数据加密由上层应用决定。
4.  对公共节点信息，仅接受 beat 信令   hmac =  0 
5.  公共节点需要3个节点以上仲裁 才能加入

## 公共节点
1.  接受hmac为任何信息
2.  仅转发控制信令和数据。

## 激励原则
1. 按转发流量、时段、区域（时延） 激励 

## 其他
net_id  公共节点判断最大net_id 
node_id 由net_id 内成员判定
每个data节点自带switch功能，可以连接多个终端设备

## 
add max_net_id  max_node_id  自动分配地址
